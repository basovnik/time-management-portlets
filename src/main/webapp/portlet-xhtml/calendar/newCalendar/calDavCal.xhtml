<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich">

    
    <a4j:region>
    
        <!-- AJAX SPINNER FOR THIS REGION -->
        <div style="float: right; max-width: 200px;">
            <a4j:status>
                <f:facet name="start">
                    <div class="container">
                        <div class="section" style="width:150px;">
                            <span style="font-style: italic; font-size: 7pt;">#{text.WaitCalDAV}</span>
                        </div>
                        <div class="section">
                            <h:graphicImage value="#{resource['/images/ajax_loader.gif']}" alt="ai" width="22px" height="22px"/>
                        </div>
                    </div>
                </f:facet>
            </a4j:status>
        </div>
    
        <h3>#{text.RemoteCalDAV}</h3>
        
        <rich:messages globalOnly="true" />
        
        <h:panelGrid columns="3" rowClasses="detailTableRow"> 
        
            
            <ui:include src="calendarForm.xhtml" />
            
            <h:outputLabel for="calURL" value="#{text.URL}:" styleClass="required" />
            <h:inputText label="URL" id="calURL" 
                required="true" requiredMessage="#{text.PleaseEnter} '#{text.URL}'!"
                value="#{calendarController.remoteCalendar.url}" />
            <rich:message for="calURL" />
            
            <h:outputLabel for="calDavUsername" value="#{text.Username}:" styleClass="required" />
            <h:inputText label="Username" id="calDavUsername" 
                required="true" requiredMessage="#{text.PleaseEnter} '#{text.Username}'!"
                value="#{calendarController.calDavRemoteCalendar.username}">
            </h:inputText>
            <rich:message for="calDavUsername" />
            
            <h:outputLabel for="calDavPassword" value="#{text.Password}:" styleClass="required" />
            <h:inputSecret label="Password" id="calDavPassword" 
                required="true" requiredMessage="#{text.PleaseEnter} '#{text.Password}'!"
                value="#{calendarController.calDavRemoteCalendar.password}">
            </h:inputSecret>
            <rich:message for="calDavPassword" />
                
                    
        </h:panelGrid>
        <div class="buttonField">        
            <a4j:commandButton value="#{text.Save}"
                action="#{calendarController.createCalendar()}"
                render="calendarView newEvent selectedCalendars dynamic-popup-content dynamic-popup-title"
                oncomplete="#{rich:component('dynamic-popup')}.hide(); #{rich:component('dynamic-popup')}.show(); facesMessagesHide(); return false;" 
                >
            </a4j:commandButton>
        </div>
    
    </a4j:region>


    
</ui:composition>

