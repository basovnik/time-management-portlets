<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich">


    <a4j:region>
    
        <!-- AJAX SPINNER FOR THIS REGION -->
        <div style="float: right;">
            <a4j:status>
                <f:facet name="start">
                    <h:graphicImage value="#{resource['/images/ajax_loader.gif']}" alt="ai" width="22px" height="22px"/>
                </f:facet>
            </a4j:status>
        </div>
        
        <h3>#{projectController.project.name}</h3> 
             
        <ui:include src="projectForm.xhtml" />
        <div class="requiredDesc" style="padding-left: 80px;">#{text.RequiredFieldsWithStar}</div>
        
        <div class="buttonField">   
            <a4j:commandButton title="#{text.Save}" value="#{text.Save}"
                actionListener="#{projectController.editProject}" 
                action="#{popupManagerTasksBean.setPopup('../projectDetail', text.ProjectDetail)}"
                render="projects tasksView dynamic-popup-content dynamic-popup-title"
                oncomplete="#{rich:component('dynamic-popup')}.hide(); #{rich:component('dynamic-popup')}.show();return false;">
                <a4j:actionListener listener="#{contextController.refreshContext()}"/>
                <a4j:actionListener listener="#{projectController.refreshProject()}"/>
            </a4j:commandButton>
        </div> 
        
    </a4j:region>

</ui:composition>
